<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="lib/codemirror.css"/>
		<link rel="stylesheet" href="beditor.css"/>
		<script src="lib/jquery.js" type="text/javascript"></script>
		<script src="lib/codemirror.js" type="text/javascript"></script>
		<script src="b.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="container">
			<textarea id="code"></textarea>
		</div>
		<script>
		    var TO;
    		function onChange(cm) {
       			clearTimeout(TO);
       			TO = setTimeout(function(){blexer.computeHighlighting(cm.getValue(), cm.getCursor().line + '');}, 500);
    		}

			var code = document.getElementById('code');
			var editor = CodeMirror.fromTextArea(code, {
				lineNumbers: true,
				indentUnit: 4,
				autoCloseBrackets: true,
				matchBrackets: true, 
				mode: "text/b"
			});
						
			editor.on("change", onChange)
			
			function changeFontSize(size) {
				editor.getWrapperElement().style["font-size"] = size+"px";
				editor.refresh();
			}
		</script>
	</body>
</html>
