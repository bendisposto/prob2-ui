<!DOCTYPE html>
<html>
<head>
	<link rel='stylesheet' href='codemirror.css'>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
	<script src='codemirror.js'></script>
	<script src ='b.js'></script>
    <script src='closebrackets.js'></script>
    <script src='matchbrackets.js'></script>
</head>
<body>
<div id="container">
	<textarea id='code'></textarea>
</div>
<script>
    var TO;
    function compile(cm) {
      beditorsupporter.compile(cm.getValue());
    }
    function onChange(cm) {
       clearTimeout(TO);
       TO = setTimeout(function(){compile(cm);}, 500);
    }
    
   
    var code = document.getElementById('code');  
    var editor = CodeMirror.fromTextArea(code, 
                      { lineNumbers: true,
                        indentUnit: 4,
                        autoCloseBrackets: true,
                        matchBrackets: true, 
                        mode: "text/b" });
                        
    editor.on("change", onChange)                
    function changeFontSize(size){
       editor.getWrapperElement().style["font-size"] = size+"px";
       editor.refresh();
    }
              
</script>
</body>
</html>
