<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.scene.web.WebView?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import de.prob2.ui.dotty.DotView?>
<?import de.prob2.ui.internal.DynamicCommandStatusBar?>
<?import javafx.scene.Scene?>
<?import de.prob2.ui.layout.FontSize?>
<?import de.prob2.ui.helpsystem.HelpButton?>

<fx:root type="DotView" title="%dotview.header" minWidth="600" minHeight="400" width="1200.0" height="1000.0" xmlns:fx="http://javafx.com/fxml/1">
	<fx:define>
		<FontSize fx:id="fontSize" />
	</fx:define>
	<scene>
		<Scene stylesheets="@/prob.css">
			<BorderPane>
				<top>
					<MenuBar fx:id="menuBar" BorderPane.alignment="CENTER">
						<Menu text="%menu.view">
							<MenuItem text="%menu.view.items.zoomDefault"
								accelerator="Shortcut+'0'" onAction="#defaultSize" />
							<MenuItem text="%menu.view.items.zoomIn"
								accelerator="Shortcut + '+'" onAction="#zoomIn" />
							<MenuItem text="%menu.view.items.zoomOut"
								accelerator="Shortcut + '-'" onAction="#zoomOut" />
							<MenuItem text="%menu.file.items.close" 
								accelerator="Shortcut+W" onAction="#handleClose"/>
						</Menu>
					</MenuBar>
				</top>
				<center>
					<AnchorPane>
						<SplitPane dividerPositions="0.4" AnchorPane.topAnchor="0.0"
							AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0"
							AnchorPane.rightAnchor="0.0">
							<AnchorPane>
								<VBox alignment="TOP_CENTER" spacing="20.0" AnchorPane.topAnchor="0.0"
									AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0"
									AnchorPane.rightAnchor="0.0">
									<ListView fx:id="lvChoice" AnchorPane.bottomAnchor="0.0"
										AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"
										AnchorPane.topAnchor="0.0"/>
									<HBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS">
										<Button fx:id="cancelButton" onAction="#cancel">
											<graphic>
												<FontAwesomeIconView styleClass="icon-dark"
													glyphName="TIMES_CIRCLE_ALT" glyphSize="${fontSize.fontSize * 2}"/>
											</graphic>
										</Button>
										<HelpButton fx:id="helpButton" HBox.hgrow="NEVER" />
									</HBox>
									<Label fx:id="lbDescription" VBox.vgrow="NEVER"/>
									<VBox fx:id="enterFormulaBox" visible="false" VBox.vgrow="NEVER" alignment="CENTER">
										<Label text="%dotview.enterFormula" HBox.hgrow="NEVER"/>
										<AnchorPane>
											<TextArea fx:id="taFormula" HBox.hgrow="ALWAYS" style="-fx-control-inner-background:#e8e8e8"
												AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0"
												AnchorPane.topAnchor="0.0"/>
										</AnchorPane>
									</VBox>
									<CheckBox text="%dotview.continuousUpdate" fx:id="cbContinuous" HBox.hgrow="ALWAYS"/>
								</VBox>
							</AnchorPane>
							<VBox>
								<HBox alignment="TOP_RIGHT" style="-fx-background-color: transparent">
									<Button fx:id="zoomInButton" disable="false"
										contentDisplay="GRAPHIC_ONLY" onAction="#zoomIn">
										<graphic>
											<FontAwesomeIconView styleClass="icon-dark"
												glyphName="PLUS_CIRCLE" glyphSize="${fontSize.fontSize * 2}"/>
										</graphic>
									</Button>
									<Button fx:id="zoomOutButton" disable="false"
										contentDisplay="GRAPHIC_ONLY" onAction="#zoomOut">
										<graphic>
											<FontAwesomeIconView styleClass="icon-dark"
												glyphName="MINUS_CIRCLE" glyphSize="${fontSize.fontSize * 2}"/>
										</graphic>
									</Button>
								</HBox>
								<ScrollPane fx:id="pane" fitToHeight="true" fitToWidth="true" styleClass="border" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
									<WebView fx:id="dotView"/>
								</ScrollPane>
							</VBox>
						</SplitPane>
					</AnchorPane>
				</center>
				<bottom>
					<DynamicCommandStatusBar fx:id="statusBar"/>
				</bottom>
			</BorderPane>
		</Scene>
	</scene>
</fx:root>
