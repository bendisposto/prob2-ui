<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.Scene?>
<?import javafx.stage.Stage?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import de.prob2.ui.menu.*?>
<?import de.prob2.ui.visualisation.magiclayout.editPane.*?>
<?import javafx.collections.*?>
<?import java.lang.String?>
<?import javafx.scene.Group?>
<?import de.prob2.ui.layout.FontSize?>
<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.ChoiceBox?>

<fx:root type="Stage" xmlns:fx="http://javafx.com/fxml/1"
	title="%visualisation.magicLayout.view.title">
	<fx:define>
		<FontSize fx:id="fontSize" />
	</fx:define>
	<scene>
		<Scene stylesheets="@/prob.css">
			<BorderPane>
				<top>
					<MenuBar fx:id="menuBar" BorderPane.alignment="CENTER">
						<Menu text="%menu.file">
							<Menu
								text="%visualisation.magicLayout.view.menu.file.items.new"
								accelerator="Alt+Shortcut+N">
								<MenuItem
									text="%visualisation.magicLayout.view.menu.file.items.new.nodes"
									onAction="#newNodegroup" />
								<MenuItem
									text="%visualisation.magicLayout.view.menu.file.items.new.edges"
									onAction="#newEdgegroup" />
							</Menu>
							<SeparatorMenuItem />
							<MenuItem
								text="%visualisation.magicLayout.view.menu.file.items.saveLayoutSettings"
								onAction="#saveLayoutSettings" />
							<MenuItem
								text="%visualisation.magicLayout.view.menu.file.items.loadLayoutSettings"
								onAction="#loadLayoutSettings" />
							<SeparatorMenuItem />
							<MenuItem
								text="%visualisation.magicLayout.view.menu.file.items.saveGraphAsImage"
								onAction="#saveGraphAsImage" />
						</Menu>
						<ViewMenu fx:id="viewMenu" />
					</MenuBar>
				</top>
				<center>
					<SplitPane dividerPositions="0.2">
						<TabPane fx:id="editTabPane" side="LEFT" prefWidth="200">
							<Tab fx:id="editNodesTab"
								text="%visualisation.magicLayout.view.tabs.nodes"
								closable="false">
								<MagicLayoutEditNodes
									fx:id="magicLayoutEditNodes" />
							</Tab>
							<Tab fx:id="editEdgesTab"
								text="%visualisation.magicLayout.view.tabs.edges"
								closable="false">
								<MagicLayoutEditEdges
									fx:id="magicLayoutEditEdges" />
							</Tab>
						</TabPane>
						<VBox>
							<HBox>
								<HBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS"
									spacing="5">
									<Button fx:id="updateButton"
										text="%visualisation.magicLayout.view.buttons.update"
										onAction="#updateGraph" styleClass="button-blue" />
									<Button fx:id="layoutButton"
										text="%visualisation.magicLayout.view.buttons.layout"
										onAction="#layoutGraph" styleClass="button-blue" />
									<ChoiceBox fx:id="layoutChoiceBox" />
								</HBox>
								<HBox alignment="CENTER_RIGHT">
									<Button fx:id="zoomInButton">
										<graphic>
											<FontAwesomeIconView
												styleClass="icon-dark" glyphName="PLUS_CIRCLE"
												glyphSize="${fontSize.fontSize * 2}" />
										</graphic>
									</Button>
									<Button fx:id="zoomOutButton">
										<graphic>
											<FontAwesomeIconView
												styleClass="icon-dark" glyphName="MINUS_CIRCLE"
												glyphSize="${fontSize.fontSize * 2}" />
										</graphic>
									</Button>
								</HBox>
								<VBox.margin>
									<Insets left="5.0" right="5.0" />
								</VBox.margin>
							</HBox>
							<ScrollPane prefWidth="800" fitToHeight="TRUE"
								fitToWidth="TRUE" VBox.vgrow="ALWAYS" styleClass="border">
								<StackPane fx:id="magicGraphStackPane"> <!-- this stackpane makes sure the group is centered inside the scrollpane -->
									<Group> <!-- this group makes sure the scrollpane recognizes when it should show 
											scroll bars -->
										<StackPane fx:id="magicGraphPane" />
									</Group>
								</StackPane>
							</ScrollPane>
						</VBox>
					</SplitPane>
				</center>
			</BorderPane>
		</Scene>
	</scene>
</fx:root>

